<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å¡å¯†é›ªæ©‡æŸ¥è¯¢ - ChatGPT åœ£è¯ç‰ˆ ğŸ„</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='80'>ğŸ„</text></svg>" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Mountains+of+Christmas:wght@400;700&family=ZCOOL+KuaiLe&display=block">
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Mountains+of+Christmas:wght@400;700&family=ZCOOL+KuaiLe&display=block"
      rel="stylesheet"
    />
    <style>
      /* å­—ä½“åŠ è½½å‰éšè—å†…å®¹ï¼Œé¿å…é—ªçƒ */
      html { visibility: hidden; }
      html.fonts-loaded { visibility: visible; }
    </style>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/snow-hills.css" />
  </head>
  <body>
    <div class="snow-hills" aria-hidden="true"></div>
    <!-- é£˜é›ªæ•ˆæœ -->
    <div class="snow-container" aria-hidden="true">
      <div class="snowflake" style="left: 10%; animation-duration: 9s;">â„</div>
      <div class="snowflake" style="left: 30%; animation-duration: 11s; animation-delay: 2s">â…</div>
      <div class="snowflake" style="left: 60%; animation-duration: 7s; animation-delay: 1s">â†</div>
      <div class="snowflake" style="left: 80%; animation-duration: 10s; animation-delay: 3s">â„</div>
    </div>

    <div class="container">
      <header>
        <div class="logo">
           <div style="font-size: 48px; margin-bottom: 8px;">ğŸ›·</div>
          <div>
            <h1>å¡å¯†æ‰¹é‡æŸ¥è¯¢</h1>
            <p class="subtitle">æŸ¥çœ‹æ‚¨çš„åœ£è¯ç¤¼ç‰©å¡çŠ¶æ€ ğŸ</p>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="query-nav">
          <a href="index.html">
            <i class="fas fa-arrow-left"></i> è¿”å›å……å€¼å°å±‹
          </a>
        </div>

        <div class="query-section">
          <div class="form-group">
            <label for="cardInput">è¾“å…¥å¡å¯†</label>
            <textarea 
              id="cardInput" 
              placeholder="è¯·è¾“å…¥å¡å¯†ï¼Œæ”¯æŒæ‰¹é‡ (æ¯è¡Œä¸€ä¸ª)..."
              rows="6"
            ></textarea>
            <div style="text-align:right; font-size:12px; color:#888; margin-top:4px;">
              <span id="cardCount">0</span> ä¸ªå¡å¯†
            </div>
          </div>
          
          <div id="validationError" class="alert alert-error" style="display: none; margin-bottom:15px;"></div>
          <div id="queryProgress" style="display: none; background: #e8f5e9; color: #2e7d32; padding:10px; border-radius:8px; margin-bottom:15px;"></div>
          
          <button class="btn" id="queryBtn" onclick="handleQuery()">
            <i class="fas fa-search"></i> æŸ¥è¯¢çŠ¶æ€
          </button>
        </div>

        <div class="query-results" id="resultsSection" style="display: none; margin-top:20px;">
          <div class="results-stats">
            <div class="stat-item">
              <span class="stat-label">æ€»è®¡</span>
              <span class="stat-value" id="statTotal">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">å·²ä½¿ç”¨ (Coal)</span>
              <span class="stat-value" id="statUsed" style="color:#616161">0</span>
            </div>
            <div class="stat-item" style="background:#e8f5e9; border-color:#c8e6c9;">
              <span class="stat-label">æœªä½¿ç”¨ (Holly)</span>
              <span class="stat-value" id="statUnused" style="color:#2e7d32;">0</span>
            </div>
          </div>

          <div class="results-tabs">
            <button class="tab-btn active" data-filter="all" onclick="setFilter('all')">å…¨éƒ¨ (<span id="tabAllCount">0</span>)</button>
            <button class="tab-btn" data-filter="used" onclick="setFilter('used')">å·²ä½¿ç”¨ (<span id="tabUsedCount">0</span>)</button>
            <button class="tab-btn" data-filter="unused" onclick="setFilter('unused')">æœªä½¿ç”¨ (<span id="tabUnusedCount">0</span>)</button>
            <button class="tab-btn" onclick="copyResults()" style="margin-left:auto;"><i class="fas fa-copy"></i> å¤åˆ¶</button>
          </div>
          
          <div class="results-table-wrapper">
            <table class="results-table">
              <thead>
                <tr>
                  <th>å¡å¯†</th>
                  <th>çŠ¶æ€</th>
                  <th>å……å€¼è´¦å·</th>
                  <th>æ—¶é—´</th>
                </tr>
              </thead>
              <tbody id="resultsBody"></tbody>
            </table>
          </div>
        </div>

        <div id="loadingOverlay" style="display: none; text-align:center; padding:20px;">
          <div style="font-size:32px; color:var(--xmas-red);"><i class="fas fa-snowflake fa-spin"></i></div>
          <div style="color:#666; margin-top:10px;">æŸ¥è¯¢ä¸­...</div>
        </div>
      </div>

      <footer>
        <p>Â© 2025 ChatGPT Recharge | Merry Christmas ğŸ„</p>
      </footer>
    </div>

    <div class="toast" id="toast" style="display: none; position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:white; padding:10px 20px; border-radius:30px; z-index:2000;">
      <i class="fas fa-check-circle"></i> <span id="toastMessage">å¤åˆ¶æˆåŠŸ</span>
    </div>

    <script src="js/query.js?v=20251227_2335"></script>
    <script>
      // å­—ä½“åŠ è½½å®Œæˆåæ˜¾ç¤ºé¡µé¢
      document.fonts.ready.then(() => {
        document.documentElement.classList.add('fonts-loaded');
      });
      // å¤‡ç”¨ï¼šè¶…æ—¶åå¼ºåˆ¶æ˜¾ç¤º
      setTimeout(() => {
        document.documentElement.classList.add('fonts-loaded');
      }, 1000);
    </script>
  </body>
</html>
